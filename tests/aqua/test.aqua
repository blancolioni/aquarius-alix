class 
   Test
inherit
   Aqua.Text_IO
   
feature

   Test_List : Aqua.Containers.Linked_List [Unit_Test]
   
   Create_Test_List
      local
         T : Unit_Test
      do
         create { Test_Class_Load } T
         Test_List.Append (T)
         create { Test_Manual_Iterator } T
         Test_List.Append (T)
         create { Test_Simple_Loop } T
         Test_List.Append (T)
         create { Test_Indirect_Inheritance } T
         Test_List.Append (T)
         create { Test_Rescue } T
         Test_List.Append (T)
         create { Test_Boolean_Implies } T
         Test_List.Append (T)
      end

   Make
      local
         Number_Of_Tests : Integer
         Passed_Tests    : Integer
         Failed_Tests    : Integer
      do
         Create_Test_List
         Put_Line ("Running tests ...")
         across Test_List as T loop
            Number_Of_Tests := Number_Of_Tests + 1
            Put (T.Name)
            Set_Col (30)
            T.Execute
            if T.Success then
               Put_Line ("PASS")
               Passed_Tests := Passed_Tests + 1
            else
               Put_Line ("FAIL: " & T.Fail_Message)
               Failed_Tests := Failed_Tests + 1
            end
         end
      
         Put_Line ("Tests: " & Number_Of_Tests.To_String
                  & "; passed: " & Passed_Tests.To_String
                  & "; failed: " & Failed_Tests.To_String)
         
      end

feature {None}

   N_Items (N : Integer; Item : String) : String
      do
         if N = 1 then
            Result := N.To_String & " " & Item
         else
            Result := N.To_String & " " & Item & "s"
         end
      end
      
end
